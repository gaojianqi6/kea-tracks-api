That is great. Using separate repositories is a very clean way to work.

Also, **wow!** You are using **.NET 10 Preview** (or a very new version). That is bleeding edge! For the purpose of job hunting, companies usually use **.NET 10 (LTS)**, but your code will work fine.

Here is the step-by-step guide to building your **Backend Repository** (`kea-tracks-api`) and connecting it to your PostgreSQL database.

---

### Step 1: Create Folder & Initialize Git
Open your Terminal on your Mac.

1.  Create the folder:
    ```bash
    mkdir kea-tracks-api
    cd kea-tracks-api
    ```
2.  Initialize Git:
    ```bash
    git init
    ```
3.  Create a `.gitignore` file (so you don't commit junk):
    ```bash
    dotnet new gitignore
    ```

### Step 2: Create the .NET Web API Project
We will create the project inside this folder.

1.  Run the create command:
    ```bash
    dotnet new webapi -n KeaTracks.API
    ```
2.  Open this folder in VS Code:
    ```bash
    code .
    ```

*(Note: You will see a folder inside called `KeaTracks.API`. This is your actual project code.)*

### Step 3: Install PostgreSQL Libraries
We need to add the "Drivers" so .NET can talk to your Mac's Postgres database.

1.  Open the **Integrated Terminal** in VS Code (`Ctrl + ~`).
2.  Navigate into the project folder:
    ```bash
    cd KeaTracks.API
    ```
3.  Install the Entity Framework Core packages:
    ```bash
    dotnet add package Npgsql.EntityFrameworkCore.PostgreSQL
    dotnet add package Microsoft.EntityFrameworkCore.Design
    ```

### Step 4: Configure the Database Connection
Now we tell .NET where your database lives.

1.  Open `appsettings.json` file.
2.  Add the `"ConnectionStrings"` section at the top. It should look like this:

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Database=kea_tracks_db;Username=postgres;Password=postgres"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
```

*   **Note on Username/Password:** On Mac, if you installed Postgres via Homebrew or Postgres.app, the default username is often your **Mac username** and **no password**.
    *   Try: `"Host=localhost;Database=kea_tracks_db;Username=YOUR_MAC_USERNAME"` first.
    *   If you set a password earlier, put it in.

### Step 5: Create your First Model (The "Track")
This defines what a hiking track looks like in your database.

1.  Create a new folder named `Entities` inside `KeaTracks.API`.
2.  Create a file `Track.cs` inside `Entities`.
3.  Paste this code:

```csharp
namespace KeaTracks.API.Entities;

public class Track
{
    public int Id { get; set; }
    
    // The ID from the official DOC API (to prevent duplicates)
    public string DocAssetId { get; set; } = string.Empty; 
    
    public string Name { get; set; } = string.Empty;
    public string Region { get; set; } = string.Empty;
    
    // Raw HTML description from DOC
    public string Introduction { get; set; } = string.Empty;
    
    // Summary generated by AI
    public string? AiSummary { get; set; } 
    
    // Spatial Data: Latitude and Longitude
    public double Latitude { get; set; }
    public double Longitude { get; set; }
    
    public double LengthKm { get; set; }
    public string Difficulty { get; set; } = string.Empty; // Easy, Intermediate, Hard
    public bool IsDogFriendly { get; set; }
    
    public DateTime LastUpdated { get; set; } = DateTime.UtcNow;
}
```

### Step 6: Create the Database Context
This is the bridge between your C# code and Postgres.

1.  Create a new folder named `Data` inside `KeaTracks.API`.
2.  Create a file `AppDbContext.cs` inside `Data`.
3.  Paste this code:

```csharp
using KeaTracks.API.Entities;
using Microsoft.EntityFrameworkCore;

namespace KeaTracks.API.Data;

public class AppDbContext : DbContext
{
    public AppDbContext(DbContextOptions<AppDbContext> options) : base(options)
    {
    }

    public DbSet<Track> Tracks { get; set; }
}
```

### Step 7: Register DB in Program.cs
Now we wire it all together in the startup file.

1.  Open `Program.cs`.
2.  Add these lines **before** `var app = builder.Build();`:

```csharp
using KeaTracks.API.Data;
using Microsoft.EntityFrameworkCore;

// ... existing code ...

// Add Database Service
builder.Services.AddDbContext<AppDbContext>(options =>
    options.UseNpgsql(builder.Configuration.GetConnectionString("DefaultConnection")));

var app = builder.Build();
```

### Step 8: Run the Migration (Create the DB)
This is the moment of truth. This command will create the tables in your Postgres database.

1.  In the terminal (make sure you are in `KeaTracks.API` folder), run:
    ```bash
    dotnet ef migrations add InitialCreate
    ```
    *(If this fails, it means your connection string in Step 4 is wrong. Check your Postgres password).*

2.  If that worked, apply it to the database:
    ```bash
    dotnet ef database update
    ```

---

### âœ… Verification
If the last command finished with "Done.", **you have successfully built a .NET 10 Backend connected to PostgreSQL.**

**Next Step:**
Now that the database is ready, we need to **fetch the data from the DOC API** to fill it.

Shall we write the `DocSyncService` (Background Job) next?